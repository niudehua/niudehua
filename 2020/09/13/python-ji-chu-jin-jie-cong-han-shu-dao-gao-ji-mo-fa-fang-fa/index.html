<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Python基础进阶：从函数到高级魔法方法, 牛德滑">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Python基础进阶：从函数到高级魔法方法 | 牛德滑</title>
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/niudehua/niudehua//favicon.png">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/niudehua/niudehua//css/matery.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/niudehua/niudehua//css/my.css">

    <script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.1.1"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">牛德滑</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a target="_blank" rel="noopener" href="https://niu_dehua.gitee.io/learn_python" class="waves-effect waves-light">
      
      <i class="fab fa-python" style="zoom: 0.6;"></i>
      
      <span>Python训练营</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">牛德滑</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a target="_blank" rel="noopener" href="https://niu_dehua.gitee.io/learn_python" class="waves-effect waves-light">
			
			    <i class="fa-fw fab fa-python"></i>
			
			Python训练营
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/niudehua" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/niudehua" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('https://cdn.jsdelivr.net/gh/niudehua/niudehua//medias/featureimages/16.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Python基础进阶：从函数到高级魔法方法</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/python/">
                                <span class="chip bg-color">python</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Python/" class="post-category">
                                Python
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-09-13
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2020-09-13
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    11.2k
                </div>
                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <hr>
<hr>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Python 是一种通用编程语言，其在科学计算和机器学习领域具有广泛的应用。如果我们打算利用 Python 来执行机器学习，那么对 Python 有一些基本的了解就是至关重要的。本 Python 入门系列体验就是为这样的初学者精心准备的。</p>
<p>本实验包括以下内容：</p>
<ul>
<li>函数<ul>
<li>函数的定义</li>
<li>函数的调用</li>
<li>函数文档</li>
<li>函数参数</li>
<li>函数的返回值</li>
<li>变量作用域</li>
</ul>
</li>
<li>Lambda 表达式<ul>
<li>匿名函数的定义</li>
<li>匿名函数的应用</li>
</ul>
</li>
<li>类与对象<ul>
<li>对象 = 属性 + 方法</li>
<li>self 是什么？</li>
<li>Python 的魔法方法</li>
<li>公有和私有</li>
<li>继承</li>
<li>组合</li>
<li>类、类对象和实例对象</li>
<li>什么是绑定？</li>
<li>一些相关的内置函数（BIF）</li>
</ul>
</li>
<li>魔法方法<ul>
<li>基本的魔法方法</li>
<li>算术运算符</li>
<li>反算术运算符</li>
<li>增量赋值运算符</li>
<li>一元运算符</li>
<li>属性访问</li>
<li>描述符</li>
<li>定制序列</li>
<li>迭代器</li>
</ul>
</li>
</ul>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="函数的定义"><a href="#函数的定义" class="headerlink" title="函数的定义"></a>函数的定义</h3><p>还记得 Python 里面“万物皆对象”么？Python 把函数也当成对象，可以从另一个函数中返回出来而去构建高阶函数，比如：<br>参数是函数、返回值是函数。</p>
<p>我们首先来介绍函数的定义。</p>
<ul>
<li>函数以<code>def</code>关键词开头，后接函数名和圆括号()。</li>
<li>函数执行的代码以冒号起始，并且缩进。</li>
<li>return [表达式] 结束函数，选择性地返回一个值给调用方。不带表达式的return相当于返回<code>None</code>。</li>
</ul>
<blockquote>
<p>def functionname (parameters):<br><br>&nbsp; &nbsp; &nbsp; &nbsp;”函数_文档字符串”<br><br>&nbsp; &nbsp; &nbsp; &nbsp; function_suite<br><br>&nbsp; &nbsp; &nbsp; &nbsp; return [expression]</p>
</blockquote>
<h3 id="函数的调用"><a href="#函数的调用" class="headerlink" title="函数的调用"></a>函数的调用</h3><p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">printme</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>


printme<span class="token punctuation">(</span><span class="token string">"我要调用用户自定义函数!"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 我要调用用户自定义函数!</span>
printme<span class="token punctuation">(</span><span class="token string">"再次调用同一函数"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 再次调用同一函数</span>
temp <span class="token operator">=</span> printme<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># hello</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># None</span></code></pre>
<h3 id="函数文档"><a href="#函数文档" class="headerlink" title="函数文档"></a>函数文档</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">MyFirstFunction</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token string">"函数定义过程中name是形参"</span>
    <span class="token comment" spellcheck="true"># 因为Ta只是一个形式，表示占据一个参数位置</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'传递进来的&amp;#123;0&amp;#125;叫做实参，因为Ta是具体的参数值！'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>


MyFirstFunction<span class="token punctuation">(</span><span class="token string">'老马的程序人生'</span><span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># 传递进来的老马的程序人生叫做实参，因为Ta是具体的参数值！</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>MyFirstFunction<span class="token punctuation">.</span>__doc__<span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># 函数定义过程中name是形参</span>

help<span class="token punctuation">(</span>MyFirstFunction<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># Help on function MyFirstFunction in module __main__:</span>
<span class="token comment" spellcheck="true"># MyFirstFunction(name)</span>
<span class="token comment" spellcheck="true">#    函数定义过程中name是形参</span></code></pre>
<h3 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h3><p>Python 的函数具有非常灵活多样的参数形态，既可以实现简单的调用，又可以传入非常复杂的参数。从简到繁的参数形态如下：</p>
<ul>
<li>位置参数 (positional argument)</li>
<li>默认参数 (default argument)</li>
<li>可变参数 (variable argument)</li>
<li>关键字参数 (keyword argument)</li>
<li>命名关键字参数 (name keyword argument)</li>
<li>参数组合</li>
</ul>
<p><strong>1. 位置参数</strong></p>
<blockquote>
<p>def functionname(arg1):<br><br>&nbsp; &nbsp; &nbsp; &nbsp;”函数_文档字符串”<br><br>&nbsp; &nbsp; &nbsp; &nbsp;function_suite<br><br>&nbsp; &nbsp; &nbsp; &nbsp;return [expression]<br></p>
</blockquote>
<ul>
<li><code>arg1</code> - 位置参数 ，这些参数在调用函数 (call function) 时位置要固定。</li>
</ul>
<p><strong>2. 默认参数</strong></p>
<blockquote>
<p>def functionname(arg1, arg2=v):<br><br>&nbsp; &nbsp; &nbsp; &nbsp;”函数_文档字符串”<br><br>&nbsp; &nbsp; &nbsp; &nbsp;function_suite<br><br>&nbsp; &nbsp; &nbsp; &nbsp;return [expression]<br></p>
</blockquote>
<ul>
<li><code>arg2 = v</code> - 默认参数 = 默认值，调用函数时，默认参数的值如果没有传入，则被认为是默认值。</li>
<li>默认参数一定要放在位置参数 <b>后面</b>，不然程序会报错。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Name:&amp;#123;0&amp;#125;,Age:&amp;#123;1&amp;#125;'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">)</span>


printinfo<span class="token punctuation">(</span><span class="token string">'小马'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Name:小马,Age:8</span>
printinfo<span class="token punctuation">(</span><span class="token string">'小马'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Name:小马,Age:10</span></code></pre>
<ul>
<li>Python 允许函数调用时参数的顺序与声明时不一致，因为 Python 解释器能够用参数名匹配参数值。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Name:&amp;#123;0&amp;#125;,Age:&amp;#123;1&amp;#125;'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">)</span>


printinfo<span class="token punctuation">(</span>age<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'小马'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Name:小马,Age:8</span></code></pre>
<p><strong>3. 可变参数</strong></p>
<p>顾名思义，可变参数就是传入的参数个数是可变的，可以是 0, 1, 2 到任意个，是不定长的参数。</p>
<blockquote>
<p>def functionname(arg1, arg2=v, *args):<br><br>&nbsp; &nbsp; &nbsp; &nbsp;”函数_文档字符串”<br><br>&nbsp; &nbsp; &nbsp; &nbsp;function_suite<br><br>&nbsp; &nbsp; &nbsp; &nbsp;return [expression]<br></p>
</blockquote>
<ul>
<li><code>*args</code> - 可变参数，可以是从零个到任意个，自动组装成元组。</li>
<li>加了星号（*）的变量名会存放所有未命名的变量参数。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>arg1<span class="token punctuation">)</span>
    <span class="token keyword">for</span> var <span class="token keyword">in</span> args<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span>


printinfo<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 10</span>
printinfo<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 70</span>
<span class="token comment" spellcheck="true"># 60</span>
<span class="token comment" spellcheck="true"># 50</span></code></pre>
<p><strong>4. 关键字参数</strong></p>
<blockquote>
<p>def functionname(arg1, arg2=v, *args, **kw):<br><br>&nbsp; &nbsp; &nbsp; &nbsp;”函数_文档字符串”<br><br>&nbsp; &nbsp; &nbsp; &nbsp;function_suite<br><br>&nbsp; &nbsp; &nbsp; &nbsp;return [expression]<br></p>
</blockquote>
<ul>
<li><code>**kw</code> - 关键字参数，可以是从零个到任意个，自动组装成字典。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>arg1<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>kwargs<span class="token punctuation">)</span>


printinfo<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 70</span>
<span class="token comment" spellcheck="true"># (60, 50)</span>
<span class="token comment" spellcheck="true"># &amp;#123;&amp;#125;</span>
printinfo<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 70</span>
<span class="token comment" spellcheck="true"># (60, 50)</span>
<span class="token comment" spellcheck="true"># &amp;#123;'a': 1, 'b': 2&amp;#125;</span></code></pre>
<p>「可变参数」和「关键字参数」的同异总结如下：</p>
<ul>
<li>可变参数允许传入零个到任意个参数，它们在函数调用时自动组装为一个元组 (tuple)。</li>
<li>关键字参数允许传入零个到任意个参数，它们在函数内部自动组装为一个字典 (dict)。</li>
</ul>
<p><strong>5. 命名关键字参数</strong></p>
<blockquote>
<p>def functionname(arg1, arg2=v, <em>args, *, nkw, *</em>kw):<br><br>&nbsp; &nbsp; &nbsp; &nbsp;”函数_文档字符串”<br><br>&nbsp; &nbsp; &nbsp; &nbsp;function_suite<br><br>&nbsp; &nbsp; &nbsp; &nbsp;return [expression]<br></p>
</blockquote>
<ul>
<li><code>*, nkw</code> - 命名关键字参数，用户想要输入的关键字参数，定义方式是在nkw 前面加个分隔符 <code>*</code>。</li>
<li>如果要限制关键字参数的名字，就可以用「命名关键字参数」</li>
<li>使用命名关键字参数时，要特别注意不能缺少参数名。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">,</span> nkw<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>arg1<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>nkw<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>kwargs<span class="token punctuation">)</span>


printinfo<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> nkw<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 70</span>
<span class="token comment" spellcheck="true"># 10</span>
<span class="token comment" spellcheck="true"># &amp;#123;'a': 1, 'b': 2&amp;#125;</span>

printinfo<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># TypeError: printinfo() takes 1 positional argument but 2 were given</span></code></pre>
<ul>
<li>没有写参数名<code>nwk</code>，因此 10 被当成「位置参数」，而原函数只有 1 个位置函数，现在调用了 2 个，因此程序会报错。</li>
</ul>
<p><strong>6. 参数组合</strong></p>
<p>在 Python 中定义函数，可以用位置参数、默认参数、可变参数、命名关键字参数和关键字参数，这 5 种参数中的 4 个都可以一起使用，但是注意，参数定义的顺序必须是：</p>
<ul>
<li>位置参数、默认参数、可变参数和关键字参数。</li>
<li>位置参数、默认参数、命名关键字参数和关键字参数。</li>
</ul>
<p>要注意定义可变参数和关键字参数的语法：</p>
<ul>
<li><code>*args</code> 是可变参数，<code>args</code> 接收的是一个 <code>tuple</code></li>
<li><code>**kw</code> 是关键字参数，<code>kw</code> 接收的是一个 <code>dict</code></li>
</ul>
<p>命名关键字参数是为了限制调用者可以传入的参数名，同时可以提供默认值。定义命名关键字参数不要忘了写分隔符 <code>*</code>，否则定义的是位置参数。</p>
<p>警告：虽然可以组合多达 5 种参数，但不要同时使用太多的组合，否则函数很难懂。</p>
<h3 id="函数的返回值"><a href="#函数的返回值" class="headerlink" title="函数的返回值"></a>函数的返回值</h3><p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b


<span class="token keyword">print</span><span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [1, 2, 3, 4, 5, 6]</span></code></pre>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'小马的程序人生'</span><span class="token punctuation">,</span> <span class="token number">3.14</span><span class="token punctuation">]</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>back<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [1, '小马的程序人生', 3.14]</span></code></pre>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'小马的程序人生'</span><span class="token punctuation">,</span> <span class="token number">3.14</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>back<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># (1, '小马的程序人生', 3.14)</span></code></pre>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">printme</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>

temp <span class="token operator">=</span> printme<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># hello</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># None</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># &lt;class 'NoneType'></span></code></pre>
<h3 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h3><ul>
<li>Python 中，程序的变量并不是在哪个位置都可以访问的，访问权限决定于这个变量是在哪里赋值的。</li>
<li>定义在函数内部的变量拥有局部作用域，该变量称为局部变量。</li>
<li>定义在函数外部的变量拥有全局作用域，该变量称为全局变量。</li>
<li>局部变量只能在其被声明的函数内部访问，而全局变量可以在整个程序范围内访问。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">discounts</span><span class="token punctuation">(</span>price<span class="token punctuation">,</span> rate<span class="token punctuation">)</span><span class="token punctuation">:</span>
    final_price <span class="token operator">=</span> price <span class="token operator">*</span> rate
    <span class="token keyword">return</span> final_price


old_price <span class="token operator">=</span> float<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">'请输入原价:'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 98</span>
rate <span class="token operator">=</span> float<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">'请输入折扣率:'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 0.9</span>
new_price <span class="token operator">=</span> discounts<span class="token punctuation">(</span>old_price<span class="token punctuation">,</span> rate<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'打折后价格是:%.2f'</span> <span class="token operator">%</span> new_price<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 88.20</span></code></pre>
<ul>
<li>当内部作用域想修改外部作用域的变量时，就要用到<code>global</code>和<code>nonlocal</code>关键字了。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python">num <span class="token operator">=</span> <span class="token number">1</span>


<span class="token keyword">def</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> num  <span class="token comment" spellcheck="true"># 需要使用 global 关键字声明</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1</span>
    num <span class="token operator">=</span> <span class="token number">123</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 123</span>


fun1<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 123</span></code></pre>
<p><strong>内嵌函数</strong></p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'outer函数在这被调用'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'inner函数在这被调用'</span><span class="token punctuation">)</span>

    inner<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 该函数只能在outer函数内部被调用</span>


outer<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># outer函数在这被调用</span>
<span class="token comment" spellcheck="true"># inner函数在这被调用</span></code></pre>
<p><strong>闭包</strong></p>
<ul>
<li>是函数式编程的一个重要的语法结构，是一种特殊的内嵌函数。</li>
<li>如果在一个内部函数里对外层非全局作用域的变量进行引用，那么内部函数就被认为是闭包。</li>
<li>通过闭包可以访问外层非全局作用域的变量，这个作用域称为 <b>闭包作用域</b>。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">funX</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">funY</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> x <span class="token operator">*</span> y

    <span class="token keyword">return</span> funY


i <span class="token operator">=</span> funX<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># &lt;class 'function'></span>
<span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 40</span></code></pre>
<p>【例子】闭包的返回值通常是函数。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">make_counter</span><span class="token punctuation">(</span>init<span class="token punctuation">)</span><span class="token punctuation">:</span>
    counter <span class="token operator">=</span> <span class="token punctuation">[</span>init<span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> counter<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>

    <span class="token keyword">def</span> <span class="token function">dec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> counter<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">1</span>

    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> counter<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> counter<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> init

    <span class="token keyword">return</span> inc<span class="token punctuation">,</span> dec<span class="token punctuation">,</span> get<span class="token punctuation">,</span> reset


inc<span class="token punctuation">,</span> dec<span class="token punctuation">,</span> get<span class="token punctuation">,</span> reset <span class="token operator">=</span> make_counter<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
inc<span class="token punctuation">(</span><span class="token punctuation">)</span>
inc<span class="token punctuation">(</span><span class="token punctuation">)</span>
inc<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 3</span>
dec<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2</span>
reset<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 0</span></code></pre>
<p>【例子】 如果要修改闭包作用域中的变量则需要 <code>nonlocal</code> 关键字</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    num <span class="token operator">=</span> <span class="token number">10</span>

    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        nonlocal num  <span class="token comment" spellcheck="true"># nonlocal关键字声明</span>
        num <span class="token operator">=</span> <span class="token number">100</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>

    inner<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>


outer<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 100</span>
<span class="token comment" spellcheck="true"># 100</span></code></pre>
<p><strong>递归</strong></p>
<ul>
<li>如果一个函数在内部调用自身本身，这个函数就是递归函数。</li>
</ul>
<p>【例子】<code>n! = 1 x 2 x 3 x ... x n</code></p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 利用循环</span>
n <span class="token operator">=</span> <span class="token number">5</span>
<span class="token keyword">for</span> k <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    n <span class="token operator">=</span> n <span class="token operator">*</span> k
<span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 120</span>

<span class="token comment" spellcheck="true"># 利用递归</span>
<span class="token keyword">def</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">1</span>
    <span class="token keyword">return</span> n <span class="token operator">*</span> factorial<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>factorial<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 120</span></code></pre>
<p>【例子】斐波那契数列 <code>f(n)=f(n-1)+f(n-2), f(0)=0 f(1)=1</code></p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 利用循环</span>
i <span class="token operator">=</span> <span class="token number">0</span>
j <span class="token operator">=</span> <span class="token number">1</span>
lst <span class="token operator">=</span> list<span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> k <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    k <span class="token operator">=</span> i <span class="token operator">+</span> j
    lst<span class="token punctuation">.</span>append<span class="token punctuation">(</span>k<span class="token punctuation">)</span>
    i <span class="token operator">=</span> j
    j <span class="token operator">=</span> k
<span class="token keyword">print</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55]</span>

<span class="token comment" spellcheck="true"># 利用递归</span>
<span class="token keyword">def</span> <span class="token function">recur_fibo</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> n <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> n
    <span class="token keyword">return</span> recur_fibo<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> recur_fibo<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>


lst <span class="token operator">=</span> list<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> k <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    lst<span class="token punctuation">.</span>append<span class="token punctuation">(</span>recur_fibo<span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55]</span></code></pre>
<p>【例子】设置递归的层数，Python默认递归层数为 100</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> sys

sys<span class="token punctuation">.</span>setrecursionlimit<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>


</code></pre>
<h2 id="Lambda-表达式"><a href="#Lambda-表达式" class="headerlink" title="Lambda 表达式"></a>Lambda 表达式</h2><h3 id="匿名函数的定义"><a href="#匿名函数的定义" class="headerlink" title="匿名函数的定义"></a>匿名函数的定义</h3><p>在 Python 里有两类函数：</p>
<ul>
<li>第一类：用 <code>def</code> 关键词定义的正规函数</li>
<li>第二类：用 <code>lambda</code> 关键词定义的匿名函数</li>
</ul>
<p>Python 使用 <code>lambda</code> 关键词来创建匿名函数，而非<code>def</code>关键词，它没有函数名，其语法结构如下：</p>
<blockquote>
<p>lambda argument_list: expression</p>
</blockquote>
<ul>
<li><code>lambda</code> - 定义匿名函数的关键词。</li>
<li><code>argument_list</code> - 函数参数，它们可以是位置参数、默认参数、关键字参数，和正规函数里的参数类型一样。</li>
<li><code>:</code>- 冒号，在函数参数和表达式中间要加个冒号。</li>
<li><code>expression</code> - 只是一个表达式，输入函数参数，输出一些值。</li>
</ul>
<p>注意：</p>
<ul>
<li><code>expression</code> 中没有 return 语句，因为 lambda 不需要它来返回，表达式本身结果就是返回值。</li>
<li>匿名函数拥有自己的命名空间，且不能访问自己参数列表之外或全局命名空间里的参数。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sqr</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> x <span class="token operator">**</span> <span class="token number">2</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>sqr<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &lt;function sqr at 0x000000BABD3A4400></span>

y <span class="token operator">=</span> <span class="token punctuation">[</span>sqr<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span>

lbd_sqr <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">**</span> <span class="token number">2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>lbd_sqr<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &lt;function &lt;lambda> at 0x000000BABB6AC1E0></span>

y <span class="token operator">=</span> <span class="token punctuation">[</span>lbd_sqr<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span>


sumary <span class="token operator">=</span> <span class="token keyword">lambda</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">:</span> arg1 <span class="token operator">+</span> arg2
<span class="token keyword">print</span><span class="token punctuation">(</span>sumary<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 30</span>

func <span class="token operator">=</span> <span class="token keyword">lambda</span> <span class="token operator">*</span>args<span class="token punctuation">:</span> sum<span class="token punctuation">(</span>args<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>func<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 15</span></code></pre>
<h3 id="匿名函数的应用"><a href="#匿名函数的应用" class="headerlink" title="匿名函数的应用"></a>匿名函数的应用</h3><p>函数式编程 是指代码中每一块都是不可变的，都由纯函数的形式组成。这里的纯函数，是指函数本身相互独立、互不影响，对于相同的输入，总会有相同的输出，没有任何副作用。</p>
<p>【例子】非函数式编程</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">10</span>
    <span class="token keyword">return</span> x


x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
f<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [11, 12, 13]</span></code></pre>
<p>【例子】函数式编程</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> x<span class="token punctuation">:</span>
        y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> y


x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
f<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [1, 2, 3]</span></code></pre>
<p>匿名函数 常常应用于函数式编程的高阶函数 (high-order function)中，主要有两种形式：</p>
<ul>
<li>参数是函数 (filter, map)</li>
<li>返回值是函数 (closure)</li>
</ul>
<p>如，在 <code>filter</code>和<code>map</code>函数中的应用：</p>
<ul>
<li><code>filter(function, iterable)</code> 过滤序列，过滤掉不符合条件的元素，返回一个迭代器对象，如果要转换为列表，可以使用 <code>list()</code> 来转换。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python">odd <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span>
templist <span class="token operator">=</span> filter<span class="token punctuation">(</span>odd<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>templist<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [1, 3, 5, 7, 9]</span></code></pre>
<ul>
<li><code>map(function, *iterables)</code> 根据提供的函数对指定序列做映射。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python">m1 <span class="token operator">=</span> map<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>m1<span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># [1, 4, 9, 16, 25]</span>

m2 <span class="token operator">=</span> map<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x <span class="token operator">+</span> y<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>m2<span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># [3, 7, 11, 15, 19]</span></code></pre>
<p>除了 Python 这些内置函数，我们也可以自己定义高阶函数。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">apply_to_list</span><span class="token punctuation">(</span>fun<span class="token punctuation">,</span> some_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> fun<span class="token punctuation">(</span>some_list<span class="token punctuation">)</span>

lst <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>apply_to_list<span class="token punctuation">(</span>sum<span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 15</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>apply_to_list<span class="token punctuation">(</span>len<span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 5</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>apply_to_list<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> sum<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">/</span> len<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 3.0</span></code></pre>
<h2 id="类与对象"><a href="#类与对象" class="headerlink" title="类与对象"></a>类与对象</h2><h3 id="对象-属性-方法"><a href="#对象-属性-方法" class="headerlink" title="对象 = 属性 + 方法"></a>对象 = 属性 + 方法</h3><p>对象是类的实例。换句话说，类主要定义对象的结构，然后我们以类为模板创建对象。类不但包含方法定义，而且还包含所有实例共享的数据。</p>
<ul>
<li>封装：信息隐蔽技术</li>
</ul>
<p>我们可以使用关键字 <code>class</code> 定义 Python 类，关键字后面紧跟类的名称、分号和类的实现。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Turtle</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># Python中的类名约定以大写字母开头</span>
    <span class="token triple-quoted-string string">"""关于类的一个简单例子"""</span>
    <span class="token comment" spellcheck="true"># 属性</span>
    color <span class="token operator">=</span> <span class="token string">'green'</span>
    weight <span class="token operator">=</span> <span class="token number">10</span>
    legs <span class="token operator">=</span> <span class="token number">4</span>
    shell <span class="token operator">=</span> <span class="token boolean">True</span>
    mouth <span class="token operator">=</span> <span class="token string">'大嘴'</span>

    <span class="token comment" spellcheck="true"># 方法</span>
    <span class="token keyword">def</span> <span class="token function">climb</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我正在很努力的向前爬...'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我正在飞快的向前跑...'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">bite</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'咬死你咬死你!!'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'有得吃，真满足...'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">sleep</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'困了，睡了，晚安，zzz'</span><span class="token punctuation">)</span>


tt <span class="token operator">=</span> Turtle<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tt<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &lt;__main__.Turtle object at 0x0000007C32D67F98></span>

<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>tt<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &lt;class '__main__.Turtle'></span>

<span class="token keyword">print</span><span class="token punctuation">(</span>tt<span class="token punctuation">.</span>__class__<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &lt;class '__main__.Turtle'></span>

<span class="token keyword">print</span><span class="token punctuation">(</span>tt<span class="token punctuation">.</span>__class__<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># Turtle</span>

tt<span class="token punctuation">.</span>climb<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 我正在很努力的向前爬...</span>

tt<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 我正在飞快的向前跑...</span>

tt<span class="token punctuation">.</span>bite<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 咬死你咬死你!!</span>

<span class="token comment" spellcheck="true"># Python类也是对象。它们是type的实例</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>Turtle<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &lt;class 'type'></span></code></pre>
<ul>
<li>继承：子类自动共享父类之间数据和方法的机制</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyList</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>


lst <span class="token operator">=</span> MyList<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
lst<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>
lst<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># [1, 2, 5, 7, 8, 9]</span></code></pre>
<ul>
<li>多态：不同对象对同一方法响应不同的行动</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> AttributeError<span class="token punctuation">(</span><span class="token string">'子类必须实现这个方法'</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'人正在走'</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Pig</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'pig is walking'</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'dog is running'</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    animal<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>


func<span class="token punctuation">(</span>Pig<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># pig is walking</span></code></pre>
<hr>
<h3 id="self-是什么？"><a href="#self-是什么？" class="headerlink" title="self 是什么？"></a>self 是什么？</h3><p>Python 的 <code>self</code> 相当于 C++ 的 <code>this</code> 指针。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">prt</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__class__<span class="token punctuation">)</span>


t <span class="token operator">=</span> Test<span class="token punctuation">(</span><span class="token punctuation">)</span>
t<span class="token punctuation">.</span>prt<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &lt;__main__.Test object at 0x000000BC5A351208></span>
<span class="token comment" spellcheck="true"># &lt;class '__main__.Test'></span></code></pre>
<p>类的方法与普通的函数只有一个特别的区别 —— 它们必须有一个额外的第一个参数名称（对应于该实例，即该对象本身），按照惯例它的名称是 <code>self</code>。在调用方法时，我们无需明确提供与参数 <code>self</code> 相对应的参数。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Ball</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">setName</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name

    <span class="token keyword">def</span> <span class="token function">kick</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我叫%s,该死的，谁踢我..."</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>


a <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>setName<span class="token punctuation">(</span><span class="token string">"球A"</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token punctuation">)</span>
b<span class="token punctuation">.</span>setName<span class="token punctuation">(</span><span class="token string">"球B"</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token punctuation">)</span>
c<span class="token punctuation">.</span>setName<span class="token punctuation">(</span><span class="token string">"球C"</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>kick<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 我叫球A,该死的，谁踢我...</span>
b<span class="token punctuation">.</span>kick<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 我叫球B,该死的，谁踢我...</span></code></pre>
<hr>
<h3 id="Python-的魔法方法"><a href="#Python-的魔法方法" class="headerlink" title="Python 的魔法方法"></a>Python 的魔法方法</h3><p>据说，Python 的对象天生拥有一些神奇的方法，它们是面向对象的 Python 的一切…</p>
<p>它们是可以给你的类增加魔力的特殊方法…</p>
<p>如果你的对象实现了这些方法中的某一个，那么这个方法就会在特殊的情况下被 Python 所调用，而这一切都是自动发生的…</p>
<p>类有一个名为<code>__init__(self[, param1, param2...])</code>的魔法方法，该方法在类实例化时会自动调用。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python">
<span class="token keyword">class</span> <span class="token class-name">Ball</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name

    <span class="token keyword">def</span> <span class="token function">kick</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我叫%s,该死的，谁踢我..."</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>


a <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token string">"球A"</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token string">"球B"</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token string">"球C"</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>kick<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 我叫球A,该死的，谁踢我...</span>
b<span class="token punctuation">.</span>kick<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 我叫球B,该死的，谁踢我...</span></code></pre>
<hr>
<h3 id="公有和私有"><a href="#公有和私有" class="headerlink" title="公有和私有"></a>公有和私有</h3><p>在 Python 中定义私有变量只需要在变量名或函数名前加上“__”两个下划线，那么这个函数或变量就会为私有的了。</p>
<p>【例子】类的私有属性实例</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">JustCounter</span><span class="token punctuation">:</span>
    __secretCount <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment" spellcheck="true"># 私有变量</span>
    publicCount <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment" spellcheck="true"># 公开变量</span>

    <span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__secretCount <span class="token operator">+=</span> <span class="token number">1</span>
        self<span class="token punctuation">.</span>publicCount <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__secretCount<span class="token punctuation">)</span>


counter <span class="token operator">=</span> JustCounter<span class="token punctuation">(</span><span class="token punctuation">)</span>
counter<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1</span>
counter<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>counter<span class="token punctuation">.</span>publicCount<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2</span>

<span class="token comment" spellcheck="true"># Python的私有为伪私有</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>counter<span class="token punctuation">.</span>_JustCounter__secretCount<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2 </span>
<span class="token keyword">print</span><span class="token punctuation">(</span>counter<span class="token punctuation">.</span>__secretCount<span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># AttributeError: 'JustCounter' object has no attribute '__secretCount'</span></code></pre>
<p>【例子】类的私有方法实例</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Site</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name  <span class="token comment" spellcheck="true"># public</span>
        self<span class="token punctuation">.</span>__url <span class="token operator">=</span> url  <span class="token comment" spellcheck="true"># private</span>

    <span class="token keyword">def</span> <span class="token function">who</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name  : '</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'url : '</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>__url<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__foo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 私有方法</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'这是私有方法'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 公共方法</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'这是公共方法'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>__foo<span class="token punctuation">(</span><span class="token punctuation">)</span>


x <span class="token operator">=</span> Site<span class="token punctuation">(</span><span class="token string">'老马的程序人生'</span><span class="token punctuation">,</span> <span class="token string">'https://blog.csdn.net/LSGO_MYP'</span><span class="token punctuation">)</span>
x<span class="token punctuation">.</span>who<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># name  :  老马的程序人生</span>
<span class="token comment" spellcheck="true"># url :  https://blog.csdn.net/LSGO_MYP</span>

x<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 这是公共方法</span>
<span class="token comment" spellcheck="true"># 这是私有方法</span>

x<span class="token punctuation">.</span>__foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># AttributeError: 'Site' object has no attribute '__foo'</span></code></pre>
<hr>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>Python 同样支持类的继承，派生类的定义如下所示：</p>
<blockquote>
<p>class DerivedClassName(BaseClassName):<br><br>&nbsp; &nbsp; &nbsp; &nbsp;statement-1<br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;.<br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;.<br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;.<br><br>&nbsp; &nbsp; &nbsp; &nbsp;statement-N</p>
</blockquote>
<p><code>BaseClassName</code>（基类名）必须与派生类定义在一个作用域内。除了类，还可以用表达式，基类定义在另一个模块中时这一点非常有用：</p>
<blockquote>
<p>class DerivedClassName(modname.BaseClassName):<br><br>&nbsp; &nbsp; &nbsp; &nbsp;statement-1<br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;.<br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;.<br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;.<br><br>&nbsp; &nbsp; &nbsp; &nbsp;statement-N</p>
</blockquote>
<p>【例子】如果子类中定义与父类同名的方法或属性，则会自动覆盖父类对应的方法或属性。</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 类定义</span>
<span class="token keyword">class</span> <span class="token class-name">people</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 定义基本属性</span>
    name <span class="token operator">=</span> <span class="token string">''</span>
    age <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment" spellcheck="true"># 定义私有属性,私有属性在类外部无法直接进行访问</span>
    __weight <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment" spellcheck="true"># 定义构造方法</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> n
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> a
        self<span class="token punctuation">.</span>__weight <span class="token operator">=</span> w

    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s 说: 我 %d 岁。"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment" spellcheck="true"># 单继承示例</span>
<span class="token keyword">class</span> <span class="token class-name">student</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span><span class="token punctuation">:</span>
    grade <span class="token operator">=</span> <span class="token string">''</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 调用父类的构函</span>
        people<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>grade <span class="token operator">=</span> g

    <span class="token comment" spellcheck="true"># 覆写父类的方法</span>
    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s 说: 我 %d 岁了，我在读 %d 年级"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">,</span> self<span class="token punctuation">.</span>grade<span class="token punctuation">)</span><span class="token punctuation">)</span>


s <span class="token operator">=</span> student<span class="token punctuation">(</span><span class="token string">'小马的程序人生'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 小马的程序人生 说: 我 10 岁了，我在读 3 年级</span></code></pre>
<p>注意：如果上面的程序去掉：<code>people.__init__(self, n, a, w)</code>，则输出：<code> 说: 我 0 岁了，我在读 3 年级</code>，因为子类的构造方法把父类的构造方法覆盖了。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> random

<span class="token keyword">class</span> <span class="token class-name">Fish</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我的位置"</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">GoldFish</span><span class="token punctuation">(</span>Fish<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 金鱼</span>
    <span class="token keyword">pass</span>


<span class="token keyword">class</span> <span class="token class-name">Carp</span><span class="token punctuation">(</span>Fish<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 鲤鱼</span>
    <span class="token keyword">pass</span>


<span class="token keyword">class</span> <span class="token class-name">Salmon</span><span class="token punctuation">(</span>Fish<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 三文鱼</span>
    <span class="token keyword">pass</span>


<span class="token keyword">class</span> <span class="token class-name">Shark</span><span class="token punctuation">(</span>Fish<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 鲨鱼</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>hungry <span class="token operator">=</span> <span class="token boolean">True</span>

    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>hungry<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"吃货的梦想就是天天有得吃！"</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>hungry <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"太撑了，吃不下了！"</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>hungry <span class="token operator">=</span> <span class="token boolean">True</span>


g <span class="token operator">=</span> GoldFish<span class="token punctuation">(</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 我的位置 9 4</span>
s <span class="token operator">=</span> Shark<span class="token punctuation">(</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 吃货的梦想就是天天有得吃！</span>
s<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># AttributeError: 'Shark' object has no attribute 'x'</span></code></pre>
<p>解决该问题可用以下两种方式：</p>
<ul>
<li>调用未绑定的父类方法<code>Fish.__init__(self)</code></li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Shark</span><span class="token punctuation">(</span>Fish<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 鲨鱼</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Fish<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>hungry <span class="token operator">=</span> <span class="token boolean">True</span>

    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>hungry<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"吃货的梦想就是天天有得吃！"</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>hungry <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"太撑了，吃不下了！"</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>hungry <span class="token operator">=</span> <span class="token boolean">True</span></code></pre>
<ul>
<li>使用super函数<code>super().__init__()</code></li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Shark</span><span class="token punctuation">(</span>Fish<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 鲨鱼</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>hungry <span class="token operator">=</span> <span class="token boolean">True</span>

    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>hungry<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"吃货的梦想就是天天有得吃！"</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>hungry <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"太撑了，吃不下了！"</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>hungry <span class="token operator">=</span> <span class="token boolean">True</span></code></pre>
<p>Python 虽然支持多继承的形式，但我们一般不使用多继承，因为容易引起混乱。</p>
<blockquote>
<p>class DerivedClassName(Base1, Base2, Base3):<br><br>&nbsp; &nbsp; &nbsp; &nbsp;statement-1<br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;.<br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;.<br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;.<br><br>&nbsp; &nbsp; &nbsp; &nbsp;statement-N<br></p>
</blockquote>
<p>需要注意圆括号中父类的顺序，若是父类中有相同的方法名，而在子类使用时未指定，Python 从左至右搜索，即方法在子类中未找到时，从左到右查找父类中是否包含方法。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 类定义</span>
<span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 定义基本属性</span>
    name <span class="token operator">=</span> <span class="token string">''</span>
    age <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment" spellcheck="true"># 定义私有属性,私有属性在类外部无法直接进行访问</span>
    __weight <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment" spellcheck="true"># 定义构造方法</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> n
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> a
        self<span class="token punctuation">.</span>__weight <span class="token operator">=</span> w

    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s 说: 我 %d 岁。"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment" spellcheck="true"># 单继承示例</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>People<span class="token punctuation">)</span><span class="token punctuation">:</span>
    grade <span class="token operator">=</span> <span class="token string">''</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 调用父类的构函</span>
        People<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>grade <span class="token operator">=</span> g

    <span class="token comment" spellcheck="true"># 覆写父类的方法</span>
    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s 说: 我 %d 岁了，我在读 %d 年级"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">,</span> self<span class="token punctuation">.</span>grade<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment" spellcheck="true"># 另一个类，多重继承之前的准备</span>
<span class="token keyword">class</span> <span class="token class-name">Speaker</span><span class="token punctuation">:</span>
    topic <span class="token operator">=</span> <span class="token string">''</span>
    name <span class="token operator">=</span> <span class="token string">''</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> n
        self<span class="token punctuation">.</span>topic <span class="token operator">=</span> t

    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我叫 %s，我是一个演说家，我演讲的主题是 %s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>topic<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment" spellcheck="true"># 多重继承</span>
<span class="token keyword">class</span> <span class="token class-name">Sample01</span><span class="token punctuation">(</span>Speaker<span class="token punctuation">,</span> Student<span class="token punctuation">)</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token string">''</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">,</span> g<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Student<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">,</span> g<span class="token punctuation">)</span>
        Speaker<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> t<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 方法名同，默认调用的是在括号中排前地父类的方法</span>
test <span class="token operator">=</span> Sample01<span class="token punctuation">(</span><span class="token string">"Tim"</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"Python"</span><span class="token punctuation">)</span>
test<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># 我叫 Tim，我是一个演说家，我演讲的主题是 Python</span>

<span class="token keyword">class</span> <span class="token class-name">Sample02</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span> Speaker<span class="token punctuation">)</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token string">''</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">,</span> g<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Student<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">,</span> g<span class="token punctuation">)</span>
        Speaker<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> t<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 方法名同，默认调用的是在括号中排前地父类的方法</span>
test <span class="token operator">=</span> Sample02<span class="token punctuation">(</span><span class="token string">"Tim"</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"Python"</span><span class="token punctuation">)</span>
test<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># Tim 说: 我 25 岁了，我在读 4 年级</span></code></pre>
<h3 id="组合"><a href="#组合" class="headerlink" title="组合"></a>组合</h3><p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Turtle</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>num <span class="token operator">=</span> x


<span class="token keyword">class</span> <span class="token class-name">Fish</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>num <span class="token operator">=</span> x


<span class="token keyword">class</span> <span class="token class-name">Pool</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>turtle <span class="token operator">=</span> Turtle<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>fish <span class="token operator">=</span> Fish<span class="token punctuation">(</span>y<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">print_num</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"水池里面有乌龟%s只，小鱼%s条"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>turtle<span class="token punctuation">.</span>num<span class="token punctuation">,</span> self<span class="token punctuation">.</span>fish<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span>


p <span class="token operator">=</span> Pool<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span>print_num<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 水池里面有乌龟2只，小鱼3条</span></code></pre>
<h3 id="类、类对象和实例对象"><a href="#类、类对象和实例对象" class="headerlink" title="类、类对象和实例对象"></a>类、类对象和实例对象</h3><p><img src="https://gitee.com/niu_dehua/oss/raw/master/uPic/20191007090316462.png" alt="类对象和实例对象"></p>
<p>类对象：创建一个类，其实也是一个对象也在内存开辟了一块空间，称为类对象，类对象只有一个。</p>
<blockquote>
<p>class A(object):<br><br>&nbsp; &nbsp; &nbsp; &nbsp;pass</p>
</blockquote>
<p>实例对象：就是通过实例化类创建的对象，称为实例对象，实例对象可以有多个。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token comment" spellcheck="true"># 实例化对象 a、b、c都属于实例对象。</span>
a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>类属性：类里面方法外面定义的变量称为类属性。类属性所属于类对象并且多个实例对象之间共享同一个类属性，说白了就是类属性所有的通过该类实例化的对象都能共享。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment" spellcheck="true">#类属性</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> xx<span class="token punctuation">)</span><span class="token punctuation">:</span>
        A<span class="token punctuation">.</span>a <span class="token operator">=</span> xx  <span class="token comment" spellcheck="true">#使用类属性可以通过 （类名.类属性）调用。</span></code></pre>
<p>实例属性：实例属性和具体的某个实例对象有关系，并且一个实例对象和另外一个实例对象是不共享属性的，说白了实例属性只能在自己的对象里面使用，其他的对象不能直接使用，因为<code>self</code>是谁调用，它的值就属于该对象。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 创建类对象</span>
<span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    class_attr <span class="token operator">=</span> <span class="token number">100</span>  <span class="token comment" spellcheck="true"># 类属性</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>sl_attr <span class="token operator">=</span> <span class="token number">100</span>  <span class="token comment" spellcheck="true"># 实例属性</span>

    <span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'类对象.类属性的值:'</span><span class="token punctuation">,</span> Test<span class="token punctuation">.</span>class_attr<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 调用类属性</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'self.类属性的值'</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>class_attr<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 相当于把类属性 变成实例属性</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'self.实例属性的值'</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>sl_attr<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 调用实例属性</span>


a <span class="token operator">=</span> Test<span class="token punctuation">(</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 类对象.类属性的值: 100</span>
<span class="token comment" spellcheck="true"># self.类属性的值 100</span>
<span class="token comment" spellcheck="true"># self.实例属性的值 100</span>

b <span class="token operator">=</span> Test<span class="token punctuation">(</span><span class="token punctuation">)</span>
b<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 类对象.类属性的值: 100</span>
<span class="token comment" spellcheck="true"># self.类属性的值 100</span>
<span class="token comment" spellcheck="true"># self.实例属性的值 100</span>

a<span class="token punctuation">.</span>class_attr <span class="token operator">=</span> <span class="token number">200</span>
a<span class="token punctuation">.</span>sl_attr <span class="token operator">=</span> <span class="token number">200</span>
a<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 类对象.类属性的值: 100</span>
<span class="token comment" spellcheck="true"># self.类属性的值 200</span>
<span class="token comment" spellcheck="true"># self.实例属性的值 200</span>

b<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 类对象.类属性的值: 100</span>
<span class="token comment" spellcheck="true"># self.类属性的值 100</span>
<span class="token comment" spellcheck="true"># self.实例属性的值 100</span>

Test<span class="token punctuation">.</span>class_attr <span class="token operator">=</span> <span class="token number">300</span>
a<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 类对象.类属性的值: 300</span>
<span class="token comment" spellcheck="true"># self.类属性的值 200</span>
<span class="token comment" spellcheck="true"># self.实例属性的值 200</span>

b<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 类对象.类属性的值: 300</span>
<span class="token comment" spellcheck="true"># self.类属性的值 300</span>
<span class="token comment" spellcheck="true"># self.实例属性的值 100</span></code></pre>
<p>注意：属性与方法名相同，属性会覆盖方法。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'x_man'</span><span class="token punctuation">)</span>


aa <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>
aa<span class="token punctuation">.</span>x<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># x_man</span>
aa<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>aa<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1</span>
aa<span class="token punctuation">.</span>x<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># TypeError: 'int' object is not callable</span></code></pre>
<h3 id="什么是绑定？"><a href="#什么是绑定？" class="headerlink" title="什么是绑定？"></a>什么是绑定？</h3><p>Python 严格要求方法需要有实例才能被调用，这种限制其实就是 Python 所谓的绑定概念。</p>
<p>Python 对象的数据属性通常存储在名为<code>.__ dict__</code>的字典中，我们可以直接访问<code>__dict__</code>，或利用 Python 的内置函数<code>vars()</code>获取<code>.__ dict__</code>。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CC</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">setXY</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y

    <span class="token keyword">def</span> <span class="token function">printXY</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span>


dd <span class="token operator">=</span> CC<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dd<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &amp;#123;&amp;#125;</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>vars<span class="token punctuation">(</span>dd<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &amp;#123;&amp;#125;</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>CC<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &amp;#123;'__module__': '__main__', 'setXY': &lt;function CC.setXY at 0x000000C3473DA048>, 'printXY': &lt;function CC.printXY at 0x000000C3473C4F28>, '__dict__': &lt;attribute '__dict__' of 'CC' objects>, '__weakref__': &lt;attribute '__weakref__' of 'CC' objects>, '__doc__': None&amp;#125;</span>

dd<span class="token punctuation">.</span>setXY<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dd<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &amp;#123;'x': 4, 'y': 5&amp;#125;</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>vars<span class="token punctuation">(</span>CC<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &amp;#123;'__module__': '__main__', 'setXY': &lt;function CC.setXY at 0x000000632CA9B048>, 'printXY': &lt;function CC.printXY at 0x000000632CA83048>, '__dict__': &lt;attribute '__dict__' of 'CC' objects>, '__weakref__': &lt;attribute '__weakref__' of 'CC' objects>, '__doc__': None&amp;#125;</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>CC<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &amp;#123;'__module__': '__main__', 'setXY': &lt;function CC.setXY at 0x000000632CA9B048>, 'printXY': &lt;function CC.printXY at 0x000000632CA83048>, '__dict__': &lt;attribute '__dict__' of 'CC' objects>, '__weakref__': &lt;attribute '__weakref__' of 'CC' objects>, '__doc__': None&amp;#125;</span></code></pre>
<h3 id="一些相关的内置函数（BIF）"><a href="#一些相关的内置函数（BIF）" class="headerlink" title="一些相关的内置函数（BIF）"></a>一些相关的内置函数（BIF）</h3><ul>
<li><code>issubclass(class, classinfo)</code> 方法用于判断参数 class 是否是类型参数 classinfo 的子类。</li>
<li>一个类被认为是其自身的子类。</li>
<li><code>classinfo</code>可以是类对象的元组，只要class是其中任何一个候选类的子类，则返回<code>True</code>。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>


<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>issubclass<span class="token punctuation">(</span>B<span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>issubclass<span class="token punctuation">(</span>B<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>issubclass<span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>issubclass<span class="token punctuation">(</span>B<span class="token punctuation">,</span> object<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span></code></pre>
<ul>
<li><code>isinstance(object, classinfo)</code> 方法用于判断一个对象是否是一个已知的类型，类似<code>type()</code>。</li>
<li><code>type()</code>不会认为子类是一种父类类型，不考虑继承关系。</li>
<li><code>isinstance()</code>会认为子类是一种父类类型，考虑继承关系。</li>
<li>如果第一个参数不是对象，则永远返回<code>False</code>。</li>
<li>如果第二个参数不是类或者由类对象组成的元组，会抛出一个<code>TypeError</code>异常。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span>a<span class="token punctuation">,</span> int<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span>a<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">(</span>str<span class="token punctuation">,</span> int<span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>


<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>


<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> A<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span>B<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>B<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> A<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span></code></pre>
<ul>
<li><code>hasattr(object, name)</code>用于判断对象是否包含对应的属性。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Coordinate</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> <span class="token number">10</span>
    y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5</span>
    z <span class="token operator">=</span> <span class="token number">0</span>


point1 <span class="token operator">=</span> Coordinate<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>hasattr<span class="token punctuation">(</span>point1<span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>hasattr<span class="token punctuation">(</span>point1<span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>hasattr<span class="token punctuation">(</span>point1<span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>hasattr<span class="token punctuation">(</span>point1<span class="token punctuation">,</span> <span class="token string">'no'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span></code></pre>
<ul>
<li><code>getattr(object, name[, default])</code>用于返回一个对象属性值。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    bar <span class="token operator">=</span> <span class="token number">1</span>


a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>getattr<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>getattr<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'bar2'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>getattr<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'bar2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># AttributeError: 'A' object has no attribute 'bar2'</span></code></pre>
<p>【例子】这个例子很酷！</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">set</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
        x <span class="token operator">=</span> a
        a <span class="token operator">=</span> b
        b <span class="token operator">=</span> x
        <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>


a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> getattr<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'set'</span><span class="token punctuation">)</span>
c<span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token string">'1'</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token string">'2'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2 1</span>
</code></pre>
<ul>
<li><code>setattr(object, name, value)</code>对应函数 <code>getattr()</code>，用于设置属性值，该属性不一定是存在的。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    bar <span class="token operator">=</span> <span class="token number">1</span>


a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>getattr<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1</span>
setattr<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>bar<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 5</span>
setattr<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>age<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 28</span></code></pre>
<ul>
<li><code>delattr(object, name)</code>用于删除属性。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Coordinate</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> <span class="token number">10</span>
    y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5</span>
    z <span class="token operator">=</span> <span class="token number">0</span>


point1 <span class="token operator">=</span> Coordinate<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'x = '</span><span class="token punctuation">,</span> point1<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># x =  10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'y = '</span><span class="token punctuation">,</span> point1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># y =  -5</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'z = '</span><span class="token punctuation">,</span> point1<span class="token punctuation">.</span>z<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># z =  0</span>

delattr<span class="token punctuation">(</span>Coordinate<span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'--删除 z 属性后--'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># --删除 z 属性后--</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'x = '</span><span class="token punctuation">,</span> point1<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># x =  10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'y = '</span><span class="token punctuation">,</span> point1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># y =  -5</span>

<span class="token comment" spellcheck="true"># 触发错误</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'z = '</span><span class="token punctuation">,</span> point1<span class="token punctuation">.</span>z<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># AttributeError: 'Coordinate' object has no attribute 'z'</span></code></pre>
<ul>
<li><code>class property([fget[, fset[, fdel[, doc]]]])</code>用于在新式类中返回属性值。<ul>
<li><code>fget</code> – 获取属性值的函数</li>
<li><code>fset</code> – 设置属性值的函数</li>
<li><code>fdel</code> – 删除属性值函数</li>
<li><code>doc</code> – 属性描述信息</li>
</ul>
</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__x <span class="token operator">=</span> None

    <span class="token keyword">def</span> <span class="token function">getx</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__x

    <span class="token keyword">def</span> <span class="token function">setx</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__x <span class="token operator">=</span> value

    <span class="token keyword">def</span> <span class="token function">delx</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">del</span> self<span class="token punctuation">.</span>__x

    x <span class="token operator">=</span> property<span class="token punctuation">(</span>getx<span class="token punctuation">,</span> setx<span class="token punctuation">,</span> delx<span class="token punctuation">,</span> <span class="token string">"I'm the 'x' property."</span><span class="token punctuation">)</span>


cc <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
cc<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cc<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2</span>

<span class="token keyword">del</span> cc<span class="token punctuation">.</span>x
<span class="token keyword">print</span><span class="token punctuation">(</span>cc<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># AttributeError: 'C' object has no attribute '_C__x'</span></code></pre>
<h2 id="魔法方法"><a href="#魔法方法" class="headerlink" title="魔法方法"></a>魔法方法</h2><p>魔法方法总是被双下划线包围，例如<code>__init__</code>。</p>
<p>魔法方法是面向对象的 Python 的一切，如果你不知道魔法方法，说明你还没能意识到面向对象的 Python 的强大。</p>
<p>魔法方法的“魔力”体现在它们总能够在适当的时候被自动调用。</p>
<p>魔法方法的第一个参数应为<code>cls</code>（类方法） 或者<code>self</code>（实例方法）。</p>
<ul>
<li><code>cls</code>：代表一个类的名称</li>
<li><code>self</code>：代表一个实例对象的名称</li>
</ul>
<h3 id="基本的魔法方法"><a href="#基本的魔法方法" class="headerlink" title="基本的魔法方法"></a>基本的魔法方法</h3><ul>
<li><code>__init__(self[, ...])</code> 构造器，当一个实例被创建的时候调用的初始化方法</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Rectangle</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y

    <span class="token keyword">def</span> <span class="token function">getPeri</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">+</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>

    <span class="token keyword">def</span> <span class="token function">getArea</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>x <span class="token operator">*</span> self<span class="token punctuation">.</span>y


rect <span class="token operator">=</span> Rectangle<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span>getPeri<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 18</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span>getArea<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 20</span></code></pre>
<ul>
<li><code>__new__(cls[, ...])</code> 在一个对象实例化的时候所调用的第一个方法，在调用<code>__init__</code>初始化前，先调用<code>__new__</code>。<ul>
<li><code>__new__</code>至少要有一个参数<code>cls</code>，代表要实例化的类，此参数在实例化时由 Python 解释器自动提供，后面的参数直接传递给<code>__init__</code>。</li>
<li><code>__new__</code>对当前类进行了实例化，并将实例返回，传给<code>__init__</code>的<code>self</code>。但是，执行了<code>__new__</code>，并不一定会进入<code>__init__</code>，只有<code>__new__</code>返回了，当前类<code>cls</code>的实例，当前类的<code>__init__</code>才会进入。</li>
</ul>
</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into A __init__"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value

    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into A __new__"</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span>
        <span class="token keyword">return</span> object<span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into B __init__"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value

    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into B __new__"</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span>
        <span class="token keyword">return</span> super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>


b <span class="token operator">=</span> B<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 结果：</span>
<span class="token comment" spellcheck="true"># into B __new__</span>
<span class="token comment" spellcheck="true"># &lt;class '__main__.B'></span>
<span class="token comment" spellcheck="true"># into A __new__</span>
<span class="token comment" spellcheck="true"># &lt;class '__main__.B'></span>
<span class="token comment" spellcheck="true"># into B __init__</span>

<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into A __init__"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value

    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into A __new__"</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span>
        <span class="token keyword">return</span> object<span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into B __init__"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value

    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into B __new__"</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span>
        <span class="token keyword">return</span> super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>A<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 改动了cls变为A</span>


b <span class="token operator">=</span> B<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 结果：</span>
<span class="token comment" spellcheck="true"># into B __new__</span>
<span class="token comment" spellcheck="true"># &lt;class '__main__.B'></span>
<span class="token comment" spellcheck="true"># into A __new__</span>
<span class="token comment" spellcheck="true"># &lt;class '__main__.A'></span></code></pre>
<ul>
<li>若<code>__new__</code>没有正确返回当前类<code>cls</code>的实例，那<code>__init__</code>是不会被调用的，即使是父类的实例也不行，将没有<code>__init__</code>被调用。</li>
</ul>
<p>【例子】利用<code>__new__</code>实现单例模式。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Earth</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>


a <span class="token operator">=</span> Earth<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 260728291456</span>
b <span class="token operator">=</span> Earth<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 260728291624</span>

<span class="token keyword">class</span> <span class="token class-name">Earth</span><span class="token punctuation">:</span>
    __instance <span class="token operator">=</span> None  <span class="token comment" spellcheck="true"># 定义一个类属性做判断</span>

    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> cls<span class="token punctuation">.</span>__instance <span class="token keyword">is</span> None<span class="token punctuation">:</span>
            cls<span class="token punctuation">.</span>__instance <span class="token operator">=</span> object<span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>
            <span class="token keyword">return</span> cls<span class="token punctuation">.</span>__instance
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> cls<span class="token punctuation">.</span>__instance


a <span class="token operator">=</span> Earth<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 512320401648</span>
b <span class="token operator">=</span> Earth<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 512320401648</span></code></pre>
<ul>
<li><code>__new__</code>方法主要是当你继承一些不可变的 class 时（比如<code>int, str, tuple</code>）， 提供给你一个自定义这些类的实例化过程的途径。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CapStr</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span>
        string <span class="token operator">=</span> string<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> str<span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">,</span> string<span class="token punctuation">)</span>


a <span class="token operator">=</span> CapStr<span class="token punctuation">(</span><span class="token string">"i love lsgogroup"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># I LOVE LSGOGROUP</span></code></pre>
<ul>
<li><code>__del__(self)</code> 析构器，当一个对象将要被系统回收之时调用的方法。</li>
</ul>
<blockquote>
<p>Python 采用自动引用计数（ARC）方式来回收对象所占用的空间，当程序中有一个变量引用该 Python 对象时，Python 会自动保证该对象引用计数为 1；当程序中有两个变量引用该 Python 对象时，Python 会自动保证该对象引用计数为 2，依此类推，如果一个对象的引用计数变成了 0，则说明程序中不再有变量引用该对象，表明程序不再需要该对象，因此 Python 就会回收该对象。</p>
<p>大部分时候，Python 的 ARC 都能准确、高效地回收系统中的每个对象。但如果系统中出现循环引用的情况，比如对象 a 持有一个实例变量引用对象 b，而对象 b 又持有一个实例变量引用对象 a，此时两个对象的引用计数都是 1，而实际上程序已经不再有变量引用它们，系统应该回收它们，此时 Python 的垃圾回收器就可能没那么快，要等专门的循环垃圾回收器（Cyclic Garbage Collector）来检测并回收这种引用循环。</p>
</blockquote>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'into C __init__'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'into C __del__'</span><span class="token punctuation">)</span>


c1 <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># into C __init__</span>
c2 <span class="token operator">=</span> c1
c3 <span class="token operator">=</span> c2
<span class="token keyword">del</span> c3
<span class="token keyword">del</span> c2
<span class="token keyword">del</span> c1
<span class="token comment" spellcheck="true"># into C __del__</span></code></pre>
<ul>
<li><p><code>__str__(self)</code>:</p>
<ul>
<li>当你打印一个对象的时候，触发<code>__str__</code></li>
<li>当你使用<code>%s</code>格式化的时候，触发<code>__str__</code></li>
<li><code>str</code>强转数据类型的时候，触发<code>__str__</code></li>
</ul>
</li>
<li><p><code>__repr__(self)</code>：</p>
<ul>
<li><code>repr</code>是<code>str</code>的备胎</li>
<li>有<code>__str__</code>的时候执行<code>__str__</code>,没有实现<code>__str__</code>的时候，执行<code>__repr__</code></li>
<li><code>repr(obj)</code>内置函数对应的结果是<code>__repr__</code>的返回值</li>
<li>当你使用<code>%r</code>格式化的时候 触发<code>__repr__</code></li>
</ul>
</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""定义一个猫类"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> new_name<span class="token punctuation">,</span> new_age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""在创建完对象之后 会自动调用, 它完成对象的初始化的功能"""</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> new_name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> new_age

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""返回一个对象的描述信息"""</span>
        <span class="token keyword">return</span> <span class="token string">"名字是:%s , 年龄是:%d"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""返回一个对象的描述信息"""</span>
        <span class="token keyword">return</span> <span class="token string">"Cat:(%s,%d)"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s在吃鱼...."</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">drink</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s在喝可乐..."</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">introduce</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"名字是:%s, 年龄是:%d"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment" spellcheck="true"># 创建了一个对象</span>
tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token string">"汤姆"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 名字是:汤姆 , 年龄是:30</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">(</span>tom<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 名字是:汤姆 , 年龄是:30</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>repr<span class="token punctuation">(</span>tom<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Cat:(汤姆,30)</span>
tom<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 汤姆在吃鱼....</span>
tom<span class="token punctuation">.</span>introduce<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 名字是:汤姆, 年龄是:30</span></code></pre>
<p><code>__str__(self)</code> 的返回结果可读性强。也就是说，<code>__str__</code> 的意义是得到便于人们阅读的信息，就像下面的 ‘2019-10-11’ 一样。</p>
<p><code>__repr__(self)</code> 的返回结果应更准确。怎么说，<code>__repr__</code> 存在的目的在于调试，便于开发者使用。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> datetime

today <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">(</span>today<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2019-10-11</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>repr<span class="token punctuation">(</span>today<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># datetime.date(2019, 10, 11)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s'</span> <span class="token operator">%</span>today<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2019-10-11</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%r'</span> <span class="token operator">%</span>today<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># datetime.date(2019, 10, 11)</span></code></pre>
<h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p>类型工厂函数，指的是“不通过类而是通过函数来创建对象”。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># &lt;class 'builtin_function_or_method'></span>
<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># &lt;class 'builtin_function_or_method'></span>
<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>int<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># &lt;class 'type'></span>
<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># &lt;class 'type'></span>
<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>tuple<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># &lt;class 'type'></span>
<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>C<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># &lt;class 'type'></span>
<span class="token keyword">print</span><span class="token punctuation">(</span>int<span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 123</span>

<span class="token comment" spellcheck="true"># 这个例子中list工厂函数把一个元祖对象加工成了一个列表对象。</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [1, 2, 3]</span></code></pre>
<ul>
<li><code>__add__(self, other)</code>定义加法的行为：<code>+</code></li>
<li><code>__sub__(self, other)</code>定义减法的行为：<code>-</code></li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyClass</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> height<span class="token punctuation">,</span> weight<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>height <span class="token operator">=</span> height
        self<span class="token punctuation">.</span>weight <span class="token operator">=</span> weight

    <span class="token comment" spellcheck="true"># 两个对象的长相加，宽不变.返回一个新的类</span>
    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> others<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> MyClass<span class="token punctuation">(</span>self<span class="token punctuation">.</span>height <span class="token operator">+</span> others<span class="token punctuation">.</span>height<span class="token punctuation">,</span> self<span class="token punctuation">.</span>weight <span class="token operator">+</span> others<span class="token punctuation">.</span>weight<span class="token punctuation">)</span>

    <span class="token comment" spellcheck="true"># 两个对象的宽相减，长不变.返回一个新的类</span>
    <span class="token keyword">def</span> <span class="token function">__sub__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> others<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> MyClass<span class="token punctuation">(</span>self<span class="token punctuation">.</span>height <span class="token operator">-</span> others<span class="token punctuation">.</span>height<span class="token punctuation">,</span> self<span class="token punctuation">.</span>weight <span class="token operator">-</span> others<span class="token punctuation">.</span>weight<span class="token punctuation">)</span>

    <span class="token comment" spellcheck="true"># 说一下自己的参数</span>
    <span class="token keyword">def</span> <span class="token function">intro</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"高为"</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>height<span class="token punctuation">,</span> <span class="token string">" 重为"</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>weight<span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> MyClass<span class="token punctuation">(</span>height<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> weight<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
    a<span class="token punctuation">.</span>intro<span class="token punctuation">(</span><span class="token punctuation">)</span>

    b <span class="token operator">=</span> MyClass<span class="token punctuation">(</span>height<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> weight<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
    b<span class="token punctuation">.</span>intro<span class="token punctuation">(</span><span class="token punctuation">)</span>

    c <span class="token operator">=</span> b <span class="token operator">-</span> a
    c<span class="token punctuation">.</span>intro<span class="token punctuation">(</span><span class="token punctuation">)</span>

    d <span class="token operator">=</span> a <span class="token operator">+</span> b
    d<span class="token punctuation">.</span>intro<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 高为 10  重为 5</span>
<span class="token comment" spellcheck="true"># 高为 20  重为 10</span>
<span class="token comment" spellcheck="true"># 高为 10  重为 5</span>
<span class="token comment" spellcheck="true"># 高为 30  重为 15</span></code></pre>
<ul>
<li><code>__mul__(self, other)</code>定义乘法的行为：<code>*</code></li>
<li><code>__truediv__(self, other)</code>定义真除法的行为：<code>/</code></li>
<li><code>__floordiv__(self, other)</code>定义整数除法的行为：<code>//</code></li>
<li><code>__mod__(self, other)</code> 定义取模算法的行为：<code>%</code></li>
<li><code>__divmod__(self, other)</code>定义当被 <code>divmod()</code> 调用时的行为</li>
<li><code>divmod(a, b)</code>把除数和余数运算结果结合起来，返回一个包含商和余数的元组<code>(a // b, a % b)</code>。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>divmod<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># (3, 1)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>divmod<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># (4, 0)</span></code></pre>
<ul>
<li><code>__pow__(self, other[, module])</code>定义当被 <code>power()</code> 调用或 <code>**</code> 运算时的行为</li>
<li><code>__lshift__(self, other)</code>定义按位左移位的行为：<code>&lt;&lt;</code></li>
<li><code>__rshift__(self, other)</code>定义按位右移位的行为：<code>&gt;&gt;</code></li>
<li><code>__and__(self, other)</code>定义按位与操作的行为：<code>&amp;</code></li>
<li><code>__xor__(self, other)</code>定义按位异或操作的行为：<code>^</code></li>
<li><code>__or__(self, other)</code>定义按位或操作的行为：<code>|</code></li>
</ul>
<h3 id="反算术运算符"><a href="#反算术运算符" class="headerlink" title="反算术运算符"></a>反算术运算符</h3><p>反运算魔方方法，与算术运算符保持一一对应，不同之处就是反运算的魔法方法多了一个“r”。当文件左操作不支持相应的操作时被调用。</p>
<ul>
<li><code>__radd__(self, other)</code>定义加法的行为：<code>+</code></li>
<li><code>__rsub__(self, other)</code>定义减法的行为：<code>-</code></li>
<li><code>__rmul__(self, other)</code>定义乘法的行为：<code>*</code></li>
<li><code>__rtruediv__(self, other)</code>定义真除法的行为：<code>/</code></li>
<li><code>__rfloordiv__(self, other)</code>定义整数除法的行为：<code>//</code></li>
<li><code>__rmod__(self, other)</code> 定义取模算法的行为：<code>%</code></li>
<li><code>__rdivmod__(self, other)</code>定义当被 divmod() 调用时的行为</li>
<li><code>__rpow__(self, other[, module])</code>定义当被 power() 调用或 <code>**</code> 运算时的行为</li>
<li><code>__rlshift__(self, other)</code>定义按位左移位的行为：<code>&lt;&lt;</code></li>
<li><code>__rrshift__(self, other)</code>定义按位右移位的行为：<code>&gt;&gt;</code></li>
<li><code>__rand__(self, other)</code>定义按位与操作的行为：<code>&amp;</code></li>
<li><code>__rxor__(self, other)</code>定义按位异或操作的行为：<code>^</code></li>
<li><code>__ror__(self, other)</code>定义按位或操作的行为：<code>|</code></li>
</ul>
<p><code>a + b</code></p>
<p>这里加数是<code>a</code>，被加数是<code>b</code>，因此是<code>a</code>主动，反运算就是如果<code>a</code>对象的<code>__add__()</code>方法没有实现或者不支持相应的操作，那么 Python 就会调用<code>b</code>的<code>__radd__()</code>方法。</p>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Nint</span><span class="token punctuation">(</span>int<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__radd__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> int<span class="token punctuation">.</span>__sub__<span class="token punctuation">(</span>other<span class="token punctuation">,</span> self<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 注意 self 在后面</span>


a <span class="token operator">=</span> Nint<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> Nint<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 8</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> b<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># -2</span></code></pre>
<h3 id="增量赋值运算符"><a href="#增量赋值运算符" class="headerlink" title="增量赋值运算符"></a>增量赋值运算符</h3><ul>
<li><code>__iadd__(self, other)</code>定义赋值加法的行为：<code>+=</code></li>
<li><code>__isub__(self, other)</code>定义赋值减法的行为：<code>-=</code></li>
<li><code>__imul__(self, other)</code>定义赋值乘法的行为：<code>*=</code></li>
<li><code>__itruediv__(self, other)</code>定义赋值真除法的行为：<code>/=</code></li>
<li><code>__ifloordiv__(self, other)</code>定义赋值整数除法的行为：<code>//=</code></li>
<li><code>__imod__(self, other)</code>定义赋值取模算法的行为：<code>%=</code></li>
<li><code>__ipow__(self, other[, modulo])</code>定义赋值幂运算的行为：<code>**=</code></li>
<li><code>__ilshift__(self, other)</code>定义赋值按位左移位的行为：<code>&lt;&lt;=</code></li>
<li><code>__irshift__(self, other)</code>定义赋值按位右移位的行为：<code>&gt;&gt;=</code></li>
<li><code>__iand__(self, other)</code>定义赋值按位与操作的行为：<code>&amp;=</code></li>
<li><code>__ixor__(self, other)</code>定义赋值按位异或操作的行为：<code>^=</code></li>
<li><code>__ior__(self, other)</code>定义赋值按位或操作的行为：<code>|=</code></li>
</ul>
<h3 id="一元运算符"><a href="#一元运算符" class="headerlink" title="一元运算符"></a>一元运算符</h3><ul>
<li><code>__neg__(self)</code>定义正号的行为：<code>+x</code></li>
<li><code>__pos__(self)</code>定义负号的行为：<code>-x</code></li>
<li><code>__abs__(self)</code>定义当被<code>abs()</code>调用时的行为</li>
<li><code>__invert__(self)</code>定义按位求反的行为：<code>~x</code></li>
</ul>
<h3 id="属性访问"><a href="#属性访问" class="headerlink" title="属性访问"></a>属性访问</h3><ul>
<li><code>__getattr__(self, name)</code>: 定义当用户试图获取一个不存在的属性时的行为。</li>
<li><code>__getattribute__(self, name)</code>：定义当该类的属性被访问时的行为（先调用该方法，查看是否存在该属性，若不存在，接着去调用<code>__getattr__</code>）。</li>
<li><code>__setattr__(self, name, value)</code>：定义当一个属性被设置时的行为。</li>
<li><code>__delattr__(self, name)</code>：定义当一个属性被删除时的行为。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__getattribute__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__getattribute__'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__getattribute__<span class="token punctuation">(</span>item<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__getattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__getattr__'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__setattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__setattr__'</span><span class="token punctuation">)</span>
        super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__setattr__<span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__delattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__delattr__'</span><span class="token punctuation">)</span>
        super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__delattr__<span class="token punctuation">(</span>item<span class="token punctuation">)</span>


c <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
c<span class="token punctuation">.</span>x
<span class="token comment" spellcheck="true"># __getattribute__</span>
<span class="token comment" spellcheck="true"># __getattr__</span>

c<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span>
<span class="token comment" spellcheck="true"># __setattr__</span>

<span class="token keyword">del</span> c<span class="token punctuation">.</span>x
<span class="token comment" spellcheck="true"># __delattr__</span></code></pre>
<h3 id="描述符"><a href="#描述符" class="headerlink" title="描述符"></a>描述符</h3><p>描述符就是将某种特殊类型的类的实例指派给另一个类的属性。</p>
<ul>
<li><code>__get__(self, instance, owner)</code>用于访问属性，它返回属性的值。</li>
<li><code>__set__(self, instance, value)</code>将在属性分配操作中调用，不返回任何内容。</li>
<li><code>__del__(self, instance)</code>控制删除操作，不返回任何内容。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyDecriptor</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> owner<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__get__'</span><span class="token punctuation">,</span> self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__set__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__set__'</span><span class="token punctuation">,</span> self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> value<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__delete__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__delete__'</span><span class="token punctuation">,</span> self<span class="token punctuation">,</span> instance<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> MyDecriptor<span class="token punctuation">(</span><span class="token punctuation">)</span>


t <span class="token operator">=</span> Test<span class="token punctuation">(</span><span class="token punctuation">)</span>
t<span class="token punctuation">.</span>x
<span class="token comment" spellcheck="true"># __get__ &lt;__main__.MyDecriptor object at 0x000000CEAAEB6B00> &lt;__main__.Test object at 0x000000CEABDC0898> &lt;class '__main__.Test'></span>

t<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token string">'x-man'</span>
<span class="token comment" spellcheck="true"># __set__ &lt;__main__.MyDecriptor object at 0x00000023687C6B00> &lt;__main__.Test object at 0x00000023696B0940> x-man</span>

<span class="token keyword">del</span> t<span class="token punctuation">.</span>x
<span class="token comment" spellcheck="true"># __delete__ &lt;__main__.MyDecriptor object at 0x000000EC9B160A90> &lt;__main__.Test object at 0x000000EC9B160B38></span></code></pre>
<h3 id="定制序列"><a href="#定制序列" class="headerlink" title="定制序列"></a>定制序列</h3><p>协议（Protocols）与其它编程语言中的接口很相似，它规定你哪些方法必须要定义。然而，在 Python 中的协议就显得不那么正式。事实上，在 Python 中，协议更像是一种指南。</p>
<p><strong>容器类型的协议</strong></p>
<ul>
<li>如果说你希望定制的容器是不可变的话，你只需要定义<code>__len__()</code>和<code>__getitem__()</code>方法。</li>
<li>如果你希望定制的容器是可变的话，除了<code>__len__()</code>和<code>__getitem__()</code>方法，你还需要定义<code>__setitem__()</code>和<code>__delitem__()</code>两个方法。</li>
</ul>
<p>【例子】编写一个不可改变的自定义列表，要求记录列表中每个元素被访问的次数。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CountList</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>values <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> args<span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;&amp;#125;.fromkeys(range(len(self.values)), 0)</span>

    <span class="token keyword">def</span> <span class="token function">__len__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> len<span class="token punctuation">(</span>self<span class="token punctuation">.</span>values<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>count<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>values<span class="token punctuation">[</span>item<span class="token punctuation">]</span>


c1 <span class="token operator">=</span> CountList<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
c2 <span class="token operator">=</span> CountList<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 6</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> c2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 7</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &amp;#123;0: 0, 1: 2, 2: 0, 3: 0, 4: 0&amp;#125;</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>c2<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &amp;#123;0: 0, 1: 1, 2: 1, 3: 0, 4: 0&amp;#125;</span></code></pre>
<ul>
<li><code>__len__(self)</code>定义当被<code>len()</code>调用时的行为（返回容器中元素的个数）。</li>
<li><code>__getitem__(self, key)</code>定义获取容器中元素的行为，相当于<code>self[key]</code>。</li>
<li><code>__setitem__(self, key, value)</code>定义设置容器中指定元素的行为，相当于<code>self[key] = value</code>。</li>
<li><code>__delitem__(self, key)</code>定义删除容器中指定元素的行为，相当于<code>del self[key]</code>。</li>
</ul>
<p>【例子】编写一个可改变的自定义列表，要求记录列表中每个元素被访问的次数。</p>
<pre class=" language-python"><code class="language-python">
<span class="token operator">-</span> `__len__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>`定义当被`len<span class="token punctuation">(</span><span class="token punctuation">)</span>`调用时的行为（返回容器中元素的个数）。
<span class="token operator">-</span> `__getitem__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span>`定义获取容器中元素的行为，相当于`self<span class="token punctuation">[</span>key<span class="token punctuation">]</span>`。
<span class="token operator">-</span> `__setitem__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>`定义设置容器中指定元素的行为，相当于`self<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value`。
<span class="token operator">-</span> `__delitem__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span>`定义删除容器中指定元素的行为，相当于`<span class="token keyword">del</span> self<span class="token punctuation">[</span>key<span class="token punctuation">]</span>`。


【例子】编写一个可改变的自定义列表，要求记录列表中每个元素被访问的次数。
</code></pre>
<h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><ul>
<li>迭代是 Python 最强大的功能之一，是访问集合元素的一种方式。</li>
<li>迭代器是一个可以记住遍历的位置的对象。</li>
<li>迭代器对象从集合的第一个元素开始访问，直到所有的元素被访问完结束。</li>
<li>迭代器只能往前不会后退。</li>
<li>字符串，列表或元组对象都可用于创建迭代器：</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python">string <span class="token operator">=</span> <span class="token string">'lsgogroup'</span>
<span class="token keyword">for</span> c <span class="token keyword">in</span> string<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>

<span class="token triple-quoted-string string">'''
l
s
g
o
g
r
o
u
p
'''</span>

<span class="token keyword">for</span> c <span class="token keyword">in</span> iter<span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span></code></pre>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python">links <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;'B': '百度', 'A': '阿里', 'T': '腾讯'&amp;#125;</span>
<span class="token keyword">for</span> each <span class="token keyword">in</span> links<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s -> %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>each<span class="token punctuation">,</span> links<span class="token punctuation">[</span>each<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token triple-quoted-string string">'''
B -> 百度
A -> 阿里
T -> 腾讯
'''</span>

<span class="token keyword">for</span> each <span class="token keyword">in</span> iter<span class="token punctuation">(</span>links<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s -> %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>each<span class="token punctuation">,</span> links<span class="token punctuation">[</span>each<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<ul>
<li>迭代器有两个基本的方法：<code>iter()</code> 和 <code>next()</code>。</li>
<li><code>iter(object)</code> 函数用来生成迭代器。</li>
<li><code>next(iterator[, default])</code> 返回迭代器的下一个项目。</li>
<li><code>iterator</code> – 可迭代对象</li>
<li><code>default</code> – 可选，用于设置在没有下一个元素时返回该默认值，如果不设置，又没有下一个元素则会触发 <code>StopIteration</code> 异常。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python">links <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;'B': '百度', 'A': '阿里', 'T': '腾讯'&amp;#125;</span>

it <span class="token operator">=</span> iter<span class="token punctuation">(</span>links<span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        each <span class="token operator">=</span> next<span class="token punctuation">(</span>it<span class="token punctuation">)</span>
    <span class="token keyword">except</span> StopIteration<span class="token punctuation">:</span>
        <span class="token keyword">break</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>each<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># B</span>
<span class="token comment" spellcheck="true"># A</span>
<span class="token comment" spellcheck="true"># T</span>

it <span class="token operator">=</span> iter<span class="token punctuation">(</span>links<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># B</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># A</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># T</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># StopIteration</span></code></pre>
<p>把一个类作为一个迭代器使用需要在类中实现两个魔法方法 <code>__iter__()</code> 与 <code>__next__()</code> 。</p>
<ul>
<li><code>__iter__(self)</code>定义当迭代容器中的元素的行为，返回一个特殊的迭代器对象， 这个迭代器对象实现了 <code>__next__()</code> 方法并通过 <code>StopIteration</code> 异常标识迭代的完成。</li>
<li><code>__next__()</code> 返回下一个迭代器对象。</li>
<li><code>StopIteration</code> 异常用于标识迭代的完成，防止出现无限循环的情况，在 <code>__next__()</code> 方法中我们可以设置在完成指定循环次数后触发 <code>StopIteration</code> 异常来结束迭代。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Fibs</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">1</span>
        self<span class="token punctuation">.</span>n <span class="token operator">=</span> n

    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span> self<span class="token punctuation">.</span>b <span class="token operator">=</span> self<span class="token punctuation">.</span>b<span class="token punctuation">,</span> self<span class="token punctuation">.</span>a <span class="token operator">+</span> self<span class="token punctuation">.</span>b
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>a <span class="token operator">></span> self<span class="token punctuation">.</span>n<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> StopIteration
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>a


fibs <span class="token operator">=</span> Fibs<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> each <span class="token keyword">in</span> fibs<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>each<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 1 1 2 3 5 8 13 21 34 55 89</span></code></pre>
<p><b>4.10 生成器</b></p>
<ul>
<li>在 Python 中，使用了 <code>yield</code> 的函数被称为生成器（generator）。</li>
<li>跟普通函数不同的是，生成器是一个返回迭代器的函数，只能用于迭代操作，更简单点理解生成器就是一个迭代器。</li>
<li>在调用生成器运行的过程中，每次遇到 <code>yield</code> 时函数会暂停并保存当前所有的运行信息，返回 <code>yield</code> 的值, 并在下一次执行 <code>next()</code> 方法时从当前位置继续运行。</li>
<li>调用一个生成器函数，返回的是一个迭代器对象。</li>
</ul>
<p>【例子】</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">myGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'生成器执行！'</span><span class="token punctuation">)</span>
    <span class="token keyword">yield</span> <span class="token number">1</span>
    <span class="token keyword">yield</span> <span class="token number">2</span>

myG <span class="token operator">=</span> myGen<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> each <span class="token keyword">in</span> myG<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>each<span class="token punctuation">)</span>

<span class="token triple-quoted-string string">'''
生成器执行！
1
2
'''</span>

myG <span class="token operator">=</span> myGen<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>myG<span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># 生成器执行！</span>
<span class="token comment" spellcheck="true"># 1</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>myG<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>myG<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># StopIteration</span></code></pre>
<p>【例子】用生成器实现斐波那契数列。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">libs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token number">0</span>
    b <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b
        <span class="token keyword">if</span> a <span class="token operator">></span> n<span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        <span class="token keyword">yield</span> a


<span class="token keyword">for</span> each <span class="token keyword">in</span> libs<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>each<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 1 1 2 3 5 8 13 21 34 55 89</span></code></pre>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">牛德滑</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://niudehua.cn/2020/09/13/python-ji-chu-jin-jie-cong-han-shu-dao-gao-ji-mo-fa-fang-fa/">http://niudehua.cn/2020/09/13/python-ji-chu-jin-jie-cong-han-shu-dao-gao-ji-mo-fa-fang-fa/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">牛德滑</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/python/">
                                    <span class="chip bg-color">python</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//medias/reward/alipay.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//medias/reward/wechat.JPG" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/11/17/win10-xi-tong-zhuan-ye-ban-ji-huo/">
                    <div class="card-image">
                        
                        
                        <img src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//medias/featureimages/3.jpg" class="responsive-img" alt="win10系统专业版激活">
                        
                        <span class="card-title">win10系统专业版激活</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
win10系统专业版激活

第一步：

首先，我们先查看一下Win10正式专业版系统的激活状态：点击桌面左下角的“Windows”按钮，从打开的扩展面板中依次点击“设置”-“更新和安全”，并切换到“激活”选项，
在此就可以查看到当前系统的
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-11-17
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Win10/" class="post-category">
                                    Win10
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/win10/">
                        <span class="chip bg-color">win10</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/09/13/python-ji-chu-ru-men-cong-bian-liang-dao-yi-chang-chu-li/">
                    <div class="card-image">
                        
                        
                        <img src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//medias/featureimages/0.jpg" class="responsive-img" alt="Python基础入门：从变量到异常处理">
                        
                        <span class="card-title">Python基础入门：从变量到异常处理</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
简介Python 是一种通用编程语言，其在科学计算和机器学习领域具有广泛的应用。如果我们打算利用 Python 来执行机器学习，那么对 Python 有一些基本的了解就是至关重要的。本 Python 入门系列体验就是为这样的初学者精心准备
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-09-13
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Python/" class="post-category">
                                    Python
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/python/">
                        <span class="chip bg-color">python</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 牛德滑<br />'
            + '文章作者: 牛德滑<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="430120980"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2020</span>
            <a href="/about" target="_blank">牛德滑</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2020";
                    var startMonth = "09";
                    var startDate = "10";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/niudehua" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:657563945@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=657563945" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 657563945" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("https://cdn.jsdelivr.net/gh/niudehua/niudehua//search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/materialize/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/aos/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="https://cdn.jsdelivr.net/gh/niudehua/niudehua//libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
